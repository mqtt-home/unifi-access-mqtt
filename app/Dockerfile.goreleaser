# syntax=docker/dockerfile:1.17

# Final stage - only for the binary
FROM gcr.io/distroless/static:nonroot

WORKDIR /

# Copy the pre-built binary from GoReleaser
COPY unifi-access-mqtt /unifi-access-mqtt

# Use non-root user (distroless already provides this)
USER nonroot:nonroot

ENTRYPOINT ["/unifi-access-mqtt", "/var/lib/unifi-access-mqtt/config.json"]
